<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Amin Yakubu" />

<meta name="date" content="2018-11-29" />

<title>Statistical Analysis</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="Exploratory.html">Exploratory Analyses</a>
</li>
<li>
  <a href="flex_dashboard.html">Flex Dashobard</a>
</li>
<li>
  <a href="statistical_analysis.html">Statistical Analysis</a>
</li>
<li>
  <a href="mailto:&lt;jmc2392@cumc.columbia.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://github.com/aminyakubu/nyc-crime/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Statistical Analysis</h1>
<h4 class="author"><em>Amin Yakubu</em></h4>
<h4 class="date"><em>11/29/2018</em></h4>

</div>


<pre class="r"><code>library(nnet)
library(tidyverse)</code></pre>
<pre class="r"><code>crime_df = readRDS(file = &quot;./datasets/nyc_felony_crimes.rds&quot;) 

sex_drug_weapons = crime_df %&gt;% 
  filter(pd_cd %in% c(178, 694, 697, 176, 180, 153, 157, 177, 168, 159, 166, 164, 179, 155, 586, 696, # Sex related felony crimes
                      ## Drug related felony crimes
                      500, 501, 502, 503, 505, 507, 510, 512, 514, 515, 519, 520, 521, 523, 524, 529, 530, 531, 532, 568, 570,
                      ### Weapon related felony crimes
                      781, 792, 793, 796)) %&gt;% 
  mutate(longitude = as.numeric(longitude),
         latitude = as.numeric(latitude)) %&gt;% 
  select(boro_nm, cmplnt_fr_dt, cmplnt_fr_tm, latitude, longitude, ky_cd, ofns_desc, pd_cd, pd_desc, vic_race, vic_sex, year, prem_typ_desc) %&gt;% 
  mutate(boro_nm = if_else(boro_nm == &quot;staten island&quot;, &quot;staten_island&quot;, boro_nm),
         crime_group = if_else(pd_cd %in% c(178, 694, 697, 176, 180, 153, 157, 177, 168, 159, 166, 164, 179, 155, 586, 696), &quot;Sex-Related&quot;, 
                               if_else(pd_cd %in% c(500, 501, 502, 503, 505, 507, 510, 512, 514, 515, 519, 520, 521, 523, 524, 529, 530, 531, 532, 568, 570), &quot;Drug-Related&quot;, 
                                       if_else(pd_cd %in% c(781, 792, 793, 796), &quot;Weapon-Related&quot;, pd_cd))))</code></pre>
<p>Association between borough and crime, adjusting for average income</p>
<div id="model-statement-for-the-multinomial-logistic-regression-is-below" class="section level3">
<h3>Model statement for the multinomial logistic regression is below</h3>
<p><code>In(P(crimegroup=drug related)/P(crime group=sex related) )=β_10 + β_11 Bronx+β_12 Brooklyn+β_13 Queens+ β_14 Staten_island</code></p>
<p><code>In(P(crimegroup=weapon related)/P(crime group=sex related) )=β_20 + β_21 Bronx+β_22 Brooklyn+β_23 Queens+ β_24 Staten_island</code></p>
<pre class="r"><code>### Making manhattan the and sex-related crime the reference groups 
sex_drug_weapons = sex_drug_weapons %&gt;%
  mutate(crime_group = forcats::fct_relevel(crime_group, &quot;Drug-Related&quot;),
         boro_nm = forcats::fct_relevel(boro_nm, &quot;manhattan&quot;))</code></pre>
</div>
<div id="tabulation" class="section level3">
<h3>Tabulation</h3>
<pre class="r"><code>with(sex_drug_weapons, table(boro_nm, crime_group)) %&gt;%
  knitr::kable()</code></pre>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">Drug-Related</th>
<th align="right">Sex-Related</th>
<th align="right">Weapon-Related</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>manhattan</td>
<td align="right">3566</td>
<td align="right">2084</td>
<td align="right">3550</td>
</tr>
<tr class="even">
<td>bronx</td>
<td align="right">6312</td>
<td align="right">1980</td>
<td align="right">4556</td>
</tr>
<tr class="odd">
<td>brooklyn</td>
<td align="right">5144</td>
<td align="right">2592</td>
<td align="right">7278</td>
</tr>
<tr class="even">
<td>queens</td>
<td align="right">2589</td>
<td align="right">1693</td>
<td align="right">3713</td>
</tr>
<tr class="odd">
<td>staten_island</td>
<td align="right">682</td>
<td align="right">297</td>
<td align="right">655</td>
</tr>
</tbody>
</table>
<pre class="r"><code>fit = multinom(crime_group ~ boro_nm, data = sex_drug_weapons) %&gt;% broom::tidy() %&gt;% 
  mutate( OR = exp(estimate))</code></pre>
<pre><code>## # weights:  18 (10 variable)
## initial  value 51295.306370 
## iter  10 value 48639.952850
## final  value 48196.448352 
## converged</code></pre>
<pre class="r"><code>fit %&gt;% knitr::kable()</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">y.level</th>
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
<th align="right">OR</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Sex-Related</td>
<td align="left">(Intercept)</td>
<td align="right">0.5844049</td>
<td align="right">0.0275731</td>
<td align="right">-19.4813700</td>
<td align="right">0.0000000</td>
<td align="right">1.793923</td>
</tr>
<tr class="even">
<td align="left">Sex-Related</td>
<td align="left">boro_nmbronx</td>
<td align="right">0.5367635</td>
<td align="right">0.0377326</td>
<td align="right">-16.4896410</td>
<td align="right">0.0000000</td>
<td align="right">1.710462</td>
</tr>
<tr class="odd">
<td align="left">Sex-Related</td>
<td align="left">boro_nmbrooklyn</td>
<td align="right">0.8622320</td>
<td align="right">0.0366125</td>
<td align="right">-4.0486419</td>
<td align="right">0.0000515</td>
<td align="right">2.368441</td>
</tr>
<tr class="even">
<td align="left">Sex-Related</td>
<td align="left">boro_nmqueens</td>
<td align="right">1.1189544</td>
<td align="right">0.0416796</td>
<td align="right">2.6966344</td>
<td align="right">0.0070044</td>
<td align="right">3.061651</td>
</tr>
<tr class="odd">
<td align="left">Sex-Related</td>
<td align="left">boro_nmstaten_island</td>
<td align="right">0.7451797</td>
<td align="right">0.0747898</td>
<td align="right">-3.9327525</td>
<td align="right">0.0000840</td>
<td align="right">2.106820</td>
</tr>
<tr class="even">
<td align="left">Weapon-Related</td>
<td align="left">(Intercept)</td>
<td align="right">0.9955120</td>
<td align="right">0.0237090</td>
<td align="right">-0.1897204</td>
<td align="right">0.8495282</td>
<td align="right">2.706110</td>
</tr>
<tr class="odd">
<td align="left">Weapon-Related</td>
<td align="left">boro_nmbronx</td>
<td align="right">0.7250480</td>
<td align="right">0.0306600</td>
<td align="right">-10.4865465</td>
<td align="right">0.0000000</td>
<td align="right">2.064830</td>
</tr>
<tr class="even">
<td align="left">Weapon-Related</td>
<td align="left">boro_nmbrooklyn</td>
<td align="right">1.4212297</td>
<td align="right">0.0298985</td>
<td align="right">11.7572104</td>
<td align="right">0.0000000</td>
<td align="right">4.142211</td>
</tr>
<tr class="odd">
<td align="left">Weapon-Related</td>
<td align="left">boro_nmqueens</td>
<td align="right">1.4406084</td>
<td align="right">0.0348954</td>
<td align="right">10.4617057</td>
<td align="right">0.0000000</td>
<td align="right">4.223264</td>
</tr>
<tr class="even">
<td align="left">Weapon-Related</td>
<td align="left">boro_nmstaten_island</td>
<td align="right">0.9647314</td>
<td align="right">0.0596248</td>
<td align="right">-0.6021913</td>
<td align="right">0.5470468</td>
<td align="right">2.624083</td>
</tr>
</tbody>
</table>
<pre class="r"><code>ggplot(fit, aes(x = term, y = OR)) +
  geom_segment( aes(x = term, xend = term, y = 0, yend = OR), color = &quot;grey&quot;) +
  geom_point(color = &quot;orange&quot;, size = 3) + facet_grid(~ y.level)</code></pre>
<p><img src="statistical_analysis_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<pre class="r"><code>  theme_light() +
  theme(
    panel.grid.major.x = element_blank(),
    panel.border = element_blank(),
    axis.ticks.x = element_blank())</code></pre>
<pre><code>## List of 62
##  $ line                 :List of 6
##   ..$ colour       : chr &quot;black&quot;
##   ..$ size         : num 0.5
##   ..$ linetype     : num 1
##   ..$ lineend      : chr &quot;butt&quot;
##   ..$ arrow        : logi FALSE
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_line&quot; &quot;element&quot;
##  $ rect                 :List of 5
##   ..$ fill         : chr &quot;white&quot;
##   ..$ colour       : chr &quot;black&quot;
##   ..$ size         : num 0.5
##   ..$ linetype     : num 1
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_rect&quot; &quot;element&quot;
##  $ text                 :List of 11
##   ..$ family       : chr &quot;&quot;
##   ..$ face         : chr &quot;plain&quot;
##   ..$ colour       : chr &quot;black&quot;
##   ..$ size         : num 11
##   ..$ hjust        : num 0.5
##   ..$ vjust        : num 0.5
##   ..$ angle        : num 0
##   ..$ lineheight   : num 0.9
##   ..$ margin       : &#39;margin&#39; num [1:4] 0pt 0pt 0pt 0pt
##   .. ..- attr(*, &quot;valid.unit&quot;)= int 8
##   .. ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##   ..$ debug        : logi FALSE
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot;
##  $ axis.title.x         :List of 11
##   ..$ family       : NULL
##   ..$ face         : NULL
##   ..$ colour       : NULL
##   ..$ size         : NULL
##   ..$ hjust        : NULL
##   ..$ vjust        : num 1
##   ..$ angle        : NULL
##   ..$ lineheight   : NULL
##   ..$ margin       : &#39;margin&#39; num [1:4] 2.75pt 0pt 0pt 0pt
##   .. ..- attr(*, &quot;valid.unit&quot;)= int 8
##   .. ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##   ..$ debug        : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot;
##  $ axis.title.x.top     :List of 11
##   ..$ family       : NULL
##   ..$ face         : NULL
##   ..$ colour       : NULL
##   ..$ size         : NULL
##   ..$ hjust        : NULL
##   ..$ vjust        : num 0
##   ..$ angle        : NULL
##   ..$ lineheight   : NULL
##   ..$ margin       : &#39;margin&#39; num [1:4] 0pt 0pt 2.75pt 0pt
##   .. ..- attr(*, &quot;valid.unit&quot;)= int 8
##   .. ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##   ..$ debug        : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot;
##  $ axis.title.y         :List of 11
##   ..$ family       : NULL
##   ..$ face         : NULL
##   ..$ colour       : NULL
##   ..$ size         : NULL
##   ..$ hjust        : NULL
##   ..$ vjust        : num 1
##   ..$ angle        : num 90
##   ..$ lineheight   : NULL
##   ..$ margin       : &#39;margin&#39; num [1:4] 0pt 2.75pt 0pt 0pt
##   .. ..- attr(*, &quot;valid.unit&quot;)= int 8
##   .. ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##   ..$ debug        : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot;
##  $ axis.title.y.right   :List of 11
##   ..$ family       : NULL
##   ..$ face         : NULL
##   ..$ colour       : NULL
##   ..$ size         : NULL
##   ..$ hjust        : NULL
##   ..$ vjust        : num 0
##   ..$ angle        : num -90
##   ..$ lineheight   : NULL
##   ..$ margin       : &#39;margin&#39; num [1:4] 0pt 0pt 0pt 2.75pt
##   .. ..- attr(*, &quot;valid.unit&quot;)= int 8
##   .. ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##   ..$ debug        : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot;
##  $ axis.text            :List of 11
##   ..$ family       : NULL
##   ..$ face         : NULL
##   ..$ colour       : chr &quot;grey30&quot;
##   ..$ size         : &#39;rel&#39; num 0.8
##   ..$ hjust        : NULL
##   ..$ vjust        : NULL
##   ..$ angle        : NULL
##   ..$ lineheight   : NULL
##   ..$ margin       : NULL
##   ..$ debug        : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot;
##  $ axis.text.x          :List of 11
##   ..$ family       : NULL
##   ..$ face         : NULL
##   ..$ colour       : NULL
##   ..$ size         : NULL
##   ..$ hjust        : NULL
##   ..$ vjust        : num 1
##   ..$ angle        : NULL
##   ..$ lineheight   : NULL
##   ..$ margin       : &#39;margin&#39; num [1:4] 2.2pt 0pt 0pt 0pt
##   .. ..- attr(*, &quot;valid.unit&quot;)= int 8
##   .. ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##   ..$ debug        : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot;
##  $ axis.text.x.top      :List of 11
##   ..$ family       : NULL
##   ..$ face         : NULL
##   ..$ colour       : NULL
##   ..$ size         : NULL
##   ..$ hjust        : NULL
##   ..$ vjust        : num 0
##   ..$ angle        : NULL
##   ..$ lineheight   : NULL
##   ..$ margin       : &#39;margin&#39; num [1:4] 0pt 0pt 2.2pt 0pt
##   .. ..- attr(*, &quot;valid.unit&quot;)= int 8
##   .. ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##   ..$ debug        : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot;
##  $ axis.text.y          :List of 11
##   ..$ family       : NULL
##   ..$ face         : NULL
##   ..$ colour       : NULL
##   ..$ size         : NULL
##   ..$ hjust        : num 1
##   ..$ vjust        : NULL
##   ..$ angle        : NULL
##   ..$ lineheight   : NULL
##   ..$ margin       : &#39;margin&#39; num [1:4] 0pt 2.2pt 0pt 0pt
##   .. ..- attr(*, &quot;valid.unit&quot;)= int 8
##   .. ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##   ..$ debug        : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot;
##  $ axis.text.y.right    :List of 11
##   ..$ family       : NULL
##   ..$ face         : NULL
##   ..$ colour       : NULL
##   ..$ size         : NULL
##   ..$ hjust        : num 0
##   ..$ vjust        : NULL
##   ..$ angle        : NULL
##   ..$ lineheight   : NULL
##   ..$ margin       : &#39;margin&#39; num [1:4] 0pt 0pt 0pt 2.2pt
##   .. ..- attr(*, &quot;valid.unit&quot;)= int 8
##   .. ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##   ..$ debug        : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot;
##  $ axis.ticks           :List of 6
##   ..$ colour       : chr &quot;grey70&quot;
##   ..$ size         : &#39;rel&#39; num 0.5
##   ..$ linetype     : NULL
##   ..$ lineend      : NULL
##   ..$ arrow        : logi FALSE
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_line&quot; &quot;element&quot;
##  $ axis.ticks.length    : &#39;unit&#39; num 2.75pt
##   ..- attr(*, &quot;valid.unit&quot;)= int 8
##   ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##  $ axis.line            : list()
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot;
##  $ axis.line.x          : NULL
##  $ axis.line.y          : NULL
##  $ legend.background    :List of 5
##   ..$ fill         : NULL
##   ..$ colour       : logi NA
##   ..$ size         : NULL
##   ..$ linetype     : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_rect&quot; &quot;element&quot;
##  $ legend.margin        : &#39;margin&#39; num [1:4] 5.5pt 5.5pt 5.5pt 5.5pt
##   ..- attr(*, &quot;valid.unit&quot;)= int 8
##   ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##  $ legend.spacing       : &#39;unit&#39; num 11pt
##   ..- attr(*, &quot;valid.unit&quot;)= int 8
##   ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##  $ legend.spacing.x     : NULL
##  $ legend.spacing.y     : NULL
##  $ legend.key           :List of 5
##   ..$ fill         : chr &quot;white&quot;
##   ..$ colour       : logi NA
##   ..$ size         : NULL
##   ..$ linetype     : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_rect&quot; &quot;element&quot;
##  $ legend.key.size      : &#39;unit&#39; num 1.2lines
##   ..- attr(*, &quot;valid.unit&quot;)= int 3
##   ..- attr(*, &quot;unit&quot;)= chr &quot;lines&quot;
##  $ legend.key.height    : NULL
##  $ legend.key.width     : NULL
##  $ legend.text          :List of 11
##   ..$ family       : NULL
##   ..$ face         : NULL
##   ..$ colour       : NULL
##   ..$ size         : &#39;rel&#39; num 0.8
##   ..$ hjust        : NULL
##   ..$ vjust        : NULL
##   ..$ angle        : NULL
##   ..$ lineheight   : NULL
##   ..$ margin       : NULL
##   ..$ debug        : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot;
##  $ legend.text.align    : NULL
##  $ legend.title         :List of 11
##   ..$ family       : NULL
##   ..$ face         : NULL
##   ..$ colour       : NULL
##   ..$ size         : NULL
##   ..$ hjust        : num 0
##   ..$ vjust        : NULL
##   ..$ angle        : NULL
##   ..$ lineheight   : NULL
##   ..$ margin       : NULL
##   ..$ debug        : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot;
##  $ legend.title.align   : NULL
##  $ legend.position      : chr &quot;right&quot;
##  $ legend.direction     : NULL
##  $ legend.justification : chr &quot;center&quot;
##  $ legend.box           : NULL
##  $ legend.box.margin    : &#39;margin&#39; num [1:4] 0cm 0cm 0cm 0cm
##   ..- attr(*, &quot;valid.unit&quot;)= int 1
##   ..- attr(*, &quot;unit&quot;)= chr &quot;cm&quot;
##  $ legend.box.background: list()
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot;
##  $ legend.box.spacing   : &#39;unit&#39; num 11pt
##   ..- attr(*, &quot;valid.unit&quot;)= int 8
##   ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##  $ panel.background     :List of 5
##   ..$ fill         : chr &quot;white&quot;
##   ..$ colour       : logi NA
##   ..$ size         : NULL
##   ..$ linetype     : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_rect&quot; &quot;element&quot;
##  $ panel.border         : list()
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot;
##  $ panel.spacing        : &#39;unit&#39; num 5.5pt
##   ..- attr(*, &quot;valid.unit&quot;)= int 8
##   ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##  $ panel.spacing.x      : NULL
##  $ panel.spacing.y      : NULL
##  $ panel.grid           :List of 6
##   ..$ colour       : chr &quot;grey87&quot;
##   ..$ size         : NULL
##   ..$ linetype     : NULL
##   ..$ lineend      : NULL
##   ..$ arrow        : logi FALSE
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_line&quot; &quot;element&quot;
##  $ panel.grid.minor     :List of 6
##   ..$ colour       : NULL
##   ..$ size         : &#39;rel&#39; num 0.25
##   ..$ linetype     : NULL
##   ..$ lineend      : NULL
##   ..$ arrow        : logi FALSE
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_line&quot; &quot;element&quot;
##  $ panel.ontop          : logi FALSE
##  $ plot.background      :List of 5
##   ..$ fill         : NULL
##   ..$ colour       : chr &quot;white&quot;
##   ..$ size         : NULL
##   ..$ linetype     : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_rect&quot; &quot;element&quot;
##  $ plot.title           :List of 11
##   ..$ family       : NULL
##   ..$ face         : NULL
##   ..$ colour       : NULL
##   ..$ size         : &#39;rel&#39; num 1.2
##   ..$ hjust        : num 0
##   ..$ vjust        : num 1
##   ..$ angle        : NULL
##   ..$ lineheight   : NULL
##   ..$ margin       : &#39;margin&#39; num [1:4] 0pt 0pt 5.5pt 0pt
##   .. ..- attr(*, &quot;valid.unit&quot;)= int 8
##   .. ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##   ..$ debug        : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot;
##  $ plot.subtitle        :List of 11
##   ..$ family       : NULL
##   ..$ face         : NULL
##   ..$ colour       : NULL
##   ..$ size         : NULL
##   ..$ hjust        : num 0
##   ..$ vjust        : num 1
##   ..$ angle        : NULL
##   ..$ lineheight   : NULL
##   ..$ margin       : &#39;margin&#39; num [1:4] 0pt 0pt 5.5pt 0pt
##   .. ..- attr(*, &quot;valid.unit&quot;)= int 8
##   .. ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##   ..$ debug        : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot;
##  $ plot.caption         :List of 11
##   ..$ family       : NULL
##   ..$ face         : NULL
##   ..$ colour       : NULL
##   ..$ size         : &#39;rel&#39; num 0.8
##   ..$ hjust        : num 1
##   ..$ vjust        : num 1
##   ..$ angle        : NULL
##   ..$ lineheight   : NULL
##   ..$ margin       : &#39;margin&#39; num [1:4] 5.5pt 0pt 0pt 0pt
##   .. ..- attr(*, &quot;valid.unit&quot;)= int 8
##   .. ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##   ..$ debug        : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot;
##  $ plot.tag             :List of 11
##   ..$ family       : NULL
##   ..$ face         : NULL
##   ..$ colour       : NULL
##   ..$ size         : &#39;rel&#39; num 1.2
##   ..$ hjust        : num 0.5
##   ..$ vjust        : num 0.5
##   ..$ angle        : NULL
##   ..$ lineheight   : NULL
##   ..$ margin       : NULL
##   ..$ debug        : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot;
##  $ plot.tag.position    : chr &quot;topleft&quot;
##  $ plot.margin          : &#39;margin&#39; num [1:4] 5.5pt 5.5pt 5.5pt 5.5pt
##   ..- attr(*, &quot;valid.unit&quot;)= int 8
##   ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##  $ strip.background     :List of 5
##   ..$ fill         : chr &quot;grey70&quot;
##   ..$ colour       : logi NA
##   ..$ size         : NULL
##   ..$ linetype     : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_rect&quot; &quot;element&quot;
##  $ strip.placement      : chr &quot;inside&quot;
##  $ strip.text           :List of 11
##   ..$ family       : NULL
##   ..$ face         : NULL
##   ..$ colour       : chr &quot;white&quot;
##   ..$ size         : &#39;rel&#39; num 0.8
##   ..$ hjust        : NULL
##   ..$ vjust        : NULL
##   ..$ angle        : NULL
##   ..$ lineheight   : NULL
##   ..$ margin       : &#39;margin&#39; num [1:4] 4.4pt 4.4pt 4.4pt 4.4pt
##   .. ..- attr(*, &quot;valid.unit&quot;)= int 8
##   .. ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##   ..$ debug        : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot;
##  $ strip.text.x         : NULL
##  $ strip.text.y         :List of 11
##   ..$ family       : NULL
##   ..$ face         : NULL
##   ..$ colour       : NULL
##   ..$ size         : NULL
##   ..$ hjust        : NULL
##   ..$ vjust        : NULL
##   ..$ angle        : num -90
##   ..$ lineheight   : NULL
##   ..$ margin       : NULL
##   ..$ debug        : NULL
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot;
##  $ strip.switch.pad.grid: &#39;unit&#39; num 2.75pt
##   ..- attr(*, &quot;valid.unit&quot;)= int 8
##   ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##  $ strip.switch.pad.wrap: &#39;unit&#39; num 2.75pt
##   ..- attr(*, &quot;valid.unit&quot;)= int 8
##   ..- attr(*, &quot;unit&quot;)= chr &quot;pt&quot;
##  $ panel.grid.major     :List of 6
##   ..$ colour       : NULL
##   ..$ size         : &#39;rel&#39; num 0.5
##   ..$ linetype     : NULL
##   ..$ lineend      : NULL
##   ..$ arrow        : logi FALSE
##   ..$ inherit.blank: logi TRUE
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_line&quot; &quot;element&quot;
##  $ axis.ticks.x         : list()
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot;
##  $ panel.grid.major.x   : list()
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot;
##  - attr(*, &quot;class&quot;)= chr [1:2] &quot;theme&quot; &quot;gg&quot;
##  - attr(*, &quot;complete&quot;)= logi TRUE
##  - attr(*, &quot;validate&quot;)= logi TRUE</code></pre>
</div>
<div id="interpretation" class="section level3">
<h3>Interpretation</h3>
<p>The odds of sex-related crimes in manhattan is 1.79. The odds of sex related vs. drug-related crimes will increase by 1.71 if moving from Manhattan to Bronx. The odds of sex related vs. drug-related crimes will increase by 2.3684 if moving from Manhattan to Brooklyn. The odds of sex related vs. drug-related crimes will increase by 3.06 if moving from Manhattan to Queens. The odds of sex related vs. drug-related crimes will increase by 2.106 if moving from Manhattan to Staten Island.</p>
<p>The odds of weapon related crimes in manhattan is 2.7.</p>
<p>The odds of weapon related vs. drug related crimes will increase by 2.064 if moving from Manhattan to Bronx. The odds of weapon related vs drug related crimes will increase by 4.14 if moving from Manhattan to Brooklyn. The odds of weapon related vs drug related crimes will increase by 4.22 if moving from Manhattan to Queens. The odds of weapon related vs drug related crimes will increase by 2.62 if moving from Manhattan to Staten Island.</p>
<pre class="r"><code>x = sex_drug_weapons %&gt;% filter(vic_race != &quot;unknown&quot;) %&gt;% filter(crime_group != &quot;Sex-Related&quot;) %&gt;% 
  mutate(race = if_else(vic_race == &quot;white&quot;, &quot;white&quot;, &quot;minority&quot;)) %&gt;% 
  mutate(race = as.factor(race),
         crime_group = as.factor(crime_group))

glm(crime_group ~ race, family = binomial(), data = x) %&gt;% broom::tidy() %&gt;% 
  mutate( OR = exp(estimate)) %&gt;% knitr::kable()

multinom(crime_group ~ race, data = x) %&gt;% broom::tidy() %&gt;% 
  mutate(OR = exp(estimate)) %&gt;% knitr::kable(digits = 4)</code></pre>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
