<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Yaa Klu" />

<meta name="date" content="2018-11-17" />

<title>Final_project</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="Exploratory.html">Exploratory Analyses</a>
</li>
<li>
  <a href="flex_dashboard.html">Flex Dashobard</a>
</li>
<li>
  <a href="https://aminyakubu.shinyapps.io/NYC_crime_trend/">Shiny App</a>
</li>
<li>
  <a href="statistical_analysis.html">Statistical Analysis</a>
</li>
<li>
  <a href="acquiringdata.html">The Data</a>
</li>
<li>
  <a href="mailto:&lt;jmc2392@cumc.columbia.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://github.com/aminyakubu/nyc-crime/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Final_project</h1>
<h4 class="author"><em>Yaa Klu</em></h4>
<h4 class="date"><em>11/17/2018</em></h4>

</div>


<pre class="r"><code>library(tidyverse)

crime_nyc = readRDS(file = &quot;datasets/nyc_felony_crimes.rds&quot;)

crime_nyc %&gt;% filter(law_cat_cd == &quot;felony&quot;) %&gt;% distinct(pd_cd, pd_desc) %&gt;% 
  mutate(x = str_detect(pd_desc, &quot;rape&quot;)) </code></pre>
<pre><code>##     pd_cd                                                      pd_desc
## 1     793                                         weapons possession 3
## 2     725                                    forgery,m.v. registration
## 3     105                                            strangulation 1st
## 4     510                               controlled substance, intent t
## 5     269                               mischief,criminal,    uncl 2nd
## 6     438       larceny,grand from building (non-residence) unattended
## 7     198                                          criminal contempt 1
## 8     397                               robbery,open area unclassified
## 9     441                                        larceny,grand of auto
## 10    422                 larceny,grand by open credit card (new acct)
## 11    405                        larceny,grand by theft of credit card
## 12    109                                     assault 2,1,unclassified
## 13    430           larceny,grand by bank acct compromise-unclassified
## 14    415                               larceny,grand from person,pick
## 15    221                                       burglary,residence,day
## 16    386                           robbery,personal electronic device
## 17    411                        larceny,grand from eatery, unattended
## 18    117                                      reckless endangerment 1
## 19    106                                 assault police/peace officer
## 20    273                                         tampering 1,criminal
## 21    439                    larceny,grand from open areas, unattended
## 22    461                                   unauthorized use vehicle 2
## 23    223                                     burglary,residence,night
## 24    410                  larceny,grand from retail store, unattended
## 25    384                               robbery,pocketbook/carried bag
## 26    433                               larceny,grand from store-shopl
## 27    760                                bribery,public administration
## 28    501                                controlled substance,possess.
## 29    409                                   larceny,grand by extortion
## 30    792                                     weapons possession 1 &amp; 2
## 31    404 larceny,grand from person,personal electronic device(snatch)
## 32    503                               controlled substance,intent to
## 33    267                               mischief, criminal 3 &amp; 2, of m
## 34    443                                     larceny,grand of bicycle
## 35    224                               burglary,residence,unknown tim
## 36    416                    larceny,grand from night club, unattended
## 37    421                        larceny,grand from vehicle/motorcycle
## 38    390                                        robbery,home invasion
## 39    407                               larceny,grand by dishonest emp
## 40    455                                       larceny,grand of truck
## 41    494                               stolen property 2,1,possession
## 42    402         larceny,grand by false promise-not in person contact
## 43    729                               forgery,etc.,unclassified-felo
## 44    153                                                       rape 3
## 45    640                                      aggravated harassment 1
## 46    213                                    burglary,commercial,night
## 47    408 larceny,grand from person,lush worker(sleeping/uncon victim)
## 48    739                                    fraud,unclassified-felony
## 49    420             larceny,grand by open/compromise cell phone acct
## 50    417                               larceny,grand from person,purs
## 51    500                                controlled substance,possess.
## 52    412                     larceny,grand from residence, unattended
## 53    493                               stolen property-motor veh 2nd,
## 54    388                              robbery,residential common area
## 55    425        larceny,grand by bank acct compromise-atm transaction
## 56    401                               larceny,grand by acquiring los
## 57    403       larceny,grand by bank acct compromise-reproduced check
## 58    437             larceny,grand by false promise-in person contact
## 59    377                             robbery,bodega/convenience store
## 60    366                                              robbery,bicycle
## 61    708                               impersonation 1, police office
## 62    231                                           burglary,truck day
## 63    214                               burglary,commercial,unknown ti
## 64    457            larceny,grand of vehicular/motorcycle accessories
## 65    450                                      larceny, grand of moped
## 66    398                                  robbery,public place inside
## 67    424   larceny,grand by credit card acct compromise-existing acct
## 68    419                               larceny,grand from person,uncl
## 69    451                                  larceny,grand of motorcycle
## 70    396                                 robbery,begin as shoplifting
## 71    157                                                       rape 1
## 72    204                                          trespass 1,criminal
## 73    382                                    robbery,neckchain/jewelry
## 74    264                               arson, motor vehicle 1 2 3 &amp; 4
## 75    268                                           criminal mis 2 &amp; 3
## 76    779                               public administration,unclassi
## 77    392                          robbery,unlicensed for hire vehicle
## 78    399                              robbery,commercial unclassified
## 79    426                 larceny,grand by bank acct compromise-teller
## 80    406                      larceny,grand from person, bag open/dip
## 81    781                                criminal disposal firearm 1 &amp;
## 82    418                  larceny,grand by acquiring lost credit card
## 83    442                               larceny, grand of auto - attem
## 84    505                               controlled substance, possessi
## 85    177                                                 sexual abuse
## 86    380                                          robbery,car jacking
## 87    568                               marijuana, possession 1, 2 &amp; 3
## 88    847                               ny state laws,unclassified fel
## 89    389                                             robbery,dwelling
## 90    168                                                     sodomy 1
## 91    199                                 aggravated criminal contempt
## 92    644                                          false report 1,fire
## 93    489                               theft,related offenses,unclass
## 94    515                                  controlled substance,sale 3
## 95    521                                 controlled substance, sale 5
## 96    519                                        sale school grounds 4
## 97    435                         larceny,grand from truck, unattended
## 98    234                                        burglary,unknown time
## 99   &lt;NA&gt;                                                         &lt;NA&gt;
## 100   211                                      burglary,commercial,day
## 101   110                               menacing 1st degree (vict peac
## 102   263                                                  arson 2,3,4
## 103   432                 larceny,grand by identity theft-unclassified
## 104   197                                                   coercion 1
## 105   502                                controlled substance,possess.
## 106   361                                                 robbery,bank
## 107   434                              larceny,grand by open bank acct
## 108   387                                             robbery,clothing
## 109   183                                      imprisonment 1,unlawful
## 110   159                                               rape 1,attempt
## 111   507                               controlled substance, possessi
## 112   391                               robbery,licensed medallion cab
## 113   383                                      robbery,delivery person
## 114   764                                           bail jumping 1 &amp; 2
## 115   166                                                     sodomy 2
## 116   244                                burglary,unclassified,unknown
## 117   514                                  controlled substance,sale 2
## 118   428  larceny,grand by bank acct compromise-unauthorized purchase
## 119   367                                         robbery, chain store
## 120   723                                      forgery,drivers license
## 121   241                                    burglary,unclassified,day
## 122   193                                     custodial interference 1
## 123   233                                         burglary,truck night
## 124   761                                      bribery, police officer
## 125   243                                  burglary,unclassified,night
## 126   695                                            child abandonment
## 127   394                            robbery,licensed for hire vehicle
## 128   663                                           supp. act terr 2nd
## 129   360                                         robbery,atm location
## 130   698                     incompetent person,knowingly endangering
## 131   112                                menacing 1st degree (vict not
## 132   164                                                     sodomy 3
## 133   375                                             robbery,pharmacy
## 134   596                               obscene material - under 17 ye
## 135   179                                     aggravated sexual asbuse
## 136   594                                                  obscenity 1
## 137   266                               mischief, criminal 3&amp;2, by fir
## 138   586                                              sex trafficking
## 139   762                                                   escape 2,1
## 140   512                                  controlled substance,sale 1
## 141   395                                robbery,on bus/ or bus driver
## 142   520                                 controlled substance, sale 4
## 143   414                               larceny,grand person,neck chai
## 144   772                                    computer tamper/tresspass
## 145   570                                     marijuana, sale 1, 2 &amp; 3
## 146   293                                              conspiracy 2, 1
## 147   665                                    making terroristic threat
## 148   365                                         robbery,liquor store
## 149   155                                                       rape 2
## 150   393                                      robbery,of truck driver
## 151   125                               homicide,negligent,unclassifie
## 152   696                               promoting a sexual performance
## 153   730                               manufacture unauthorized recor
## 154   431                          larceny,grand from pier, unattended
## 155   808                                                      tax law
## 156   107                        end welfare vulnerable elderly person
## 157   727                                         forgery,prescription
## 158   904                                  intoxicated driving,alcohol
## 159   108                        assault other public service employee
## 160   185                                                 kidnapping 2
## 161   724                               forgery-illegal possession,veh
## 162   291                                              conspiracy 4, 3
## 163   186                                               luring a child
## 164   379                                          robbery,gas station
## 165   385                                             robbery, payroll
## 166   844                                        cause spi/kill animal
## 167   423                          larceny,grand from boat, unattended
## 168   371                               robbery,check cashing business
## 169   711                                     tampering with a witness
## 170   531                               drug paraphernalia,   possesse
## 171   672                                                       riot 1
## 172   363                                       robbery,bar/restaurant
## 173   445                                        larceny,grand of boat
## 174   524                               controlled substance,possess.-
## 175   775                                       money laundering 1 &amp; 2
## 176   104                               vehicular assault (intox drive
## 177   261                                                      arson 1
## 178   187                                                 kidnapping 1
## 179   532                                controlled substance,possess.
## 180   180                               course of sexual conduct again
## 181   498                               stolen property 2,possession b
## 182   285                                 solicitation 3,2,1, criminal
## 183   796                                       weapons,prohibited use
## 184   121                                   homicide,negligent,vehicle
## 185   766                                              perjury 2,1,etc
## 186   143                                                   abortion 1
## 187   664                                    terrorism provide support
## 188   122                                homicide, negligent, vehicle,
## 189   176                                                   sex crimes
## 190   373                                robbery,doctor/dentist office
## 191   523                                          sale school grounds
## 192   674                                                eavesdropping
## 193   529                                        sales of prescription
## 194   557                                  gambling 1,promoting,policy
## 195   845                             breed/train/host animal fighting
## 196   780                                           nuisance, criminal
## 197   299                                 facilitation 3,2,1, criminal
## 198   102                                  assault school safety agent
## 199   697                               use of a child in a sexual per
## 200   584                               prostitution 3, promoting unde
## 201   265                                mischief 1,criminal,explosive
## 202   103                                        assault traffic agent
## 203   553                               gambling 1,promoting,bookmakin
## 204   381                                            robbery,hijacking
## 205   691                                                       bigamy
## 206   648                                             place false bomb
## 207   585                               prostitution 3,promoting busin
## 208   783                                  fireworks prev conv 5 years
## 209   667                                          hind prosec. terr 2
## 210   694                                                       incest
## 211   119                                    promoting suicide attempt
## 212   587                                   prostitution 2, compulsory
## 213   588                                     prostitution 2, under 16
## 214   721                                                bribery,fraud
## 215   178                               fac. sexual offense w/controll
## 216   641                                         healthcare/rent.reg.
## 217   530                                           drug, injection of
## 218   733                                        enterprise corruption
## 219   184                                            labor trafficking
## 220   737                                               usury,criminal
## 221   561                               prostitution, patronizing 2, 1
##         x
## 1   FALSE
## 2   FALSE
## 3   FALSE
## 4   FALSE
## 5   FALSE
## 6   FALSE
## 7   FALSE
## 8   FALSE
## 9   FALSE
## 10  FALSE
## 11  FALSE
## 12  FALSE
## 13  FALSE
## 14  FALSE
## 15  FALSE
## 16  FALSE
## 17  FALSE
## 18  FALSE
## 19  FALSE
## 20  FALSE
## 21  FALSE
## 22  FALSE
## 23  FALSE
## 24  FALSE
## 25  FALSE
## 26  FALSE
## 27  FALSE
## 28  FALSE
## 29  FALSE
## 30  FALSE
## 31  FALSE
## 32  FALSE
## 33  FALSE
## 34  FALSE
## 35  FALSE
## 36  FALSE
## 37  FALSE
## 38  FALSE
## 39  FALSE
## 40  FALSE
## 41  FALSE
## 42  FALSE
## 43  FALSE
## 44   TRUE
## 45  FALSE
## 46  FALSE
## 47  FALSE
## 48  FALSE
## 49  FALSE
## 50  FALSE
## 51  FALSE
## 52  FALSE
## 53  FALSE
## 54  FALSE
## 55  FALSE
## 56  FALSE
## 57  FALSE
## 58  FALSE
## 59  FALSE
## 60  FALSE
## 61  FALSE
## 62  FALSE
## 63  FALSE
## 64  FALSE
## 65  FALSE
## 66  FALSE
## 67  FALSE
## 68  FALSE
## 69  FALSE
## 70  FALSE
## 71   TRUE
## 72  FALSE
## 73  FALSE
## 74  FALSE
## 75  FALSE
## 76  FALSE
## 77  FALSE
## 78  FALSE
## 79  FALSE
## 80  FALSE
## 81  FALSE
## 82  FALSE
## 83  FALSE
## 84  FALSE
## 85  FALSE
## 86  FALSE
## 87  FALSE
## 88  FALSE
## 89  FALSE
## 90  FALSE
## 91  FALSE
## 92  FALSE
## 93  FALSE
## 94  FALSE
## 95  FALSE
## 96  FALSE
## 97  FALSE
## 98  FALSE
## 99     NA
## 100 FALSE
## 101 FALSE
## 102 FALSE
## 103 FALSE
## 104 FALSE
## 105 FALSE
## 106 FALSE
## 107 FALSE
## 108 FALSE
## 109 FALSE
## 110  TRUE
## 111 FALSE
## 112 FALSE
## 113 FALSE
## 114 FALSE
## 115 FALSE
## 116 FALSE
## 117 FALSE
## 118 FALSE
## 119 FALSE
## 120 FALSE
## 121 FALSE
## 122 FALSE
## 123 FALSE
## 124 FALSE
## 125 FALSE
## 126 FALSE
## 127 FALSE
## 128 FALSE
## 129 FALSE
## 130 FALSE
## 131 FALSE
## 132 FALSE
## 133 FALSE
## 134 FALSE
## 135 FALSE
## 136 FALSE
## 137 FALSE
## 138 FALSE
## 139 FALSE
## 140 FALSE
## 141 FALSE
## 142 FALSE
## 143 FALSE
## 144 FALSE
## 145 FALSE
## 146 FALSE
## 147 FALSE
## 148 FALSE
## 149  TRUE
## 150 FALSE
## 151 FALSE
## 152 FALSE
## 153 FALSE
## 154 FALSE
## 155 FALSE
## 156 FALSE
## 157 FALSE
## 158 FALSE
## 159 FALSE
## 160 FALSE
## 161 FALSE
## 162 FALSE
## 163 FALSE
## 164 FALSE
## 165 FALSE
## 166 FALSE
## 167 FALSE
## 168 FALSE
## 169 FALSE
## 170 FALSE
## 171 FALSE
## 172 FALSE
## 173 FALSE
## 174 FALSE
## 175 FALSE
## 176 FALSE
## 177 FALSE
## 178 FALSE
## 179 FALSE
## 180 FALSE
## 181 FALSE
## 182 FALSE
## 183 FALSE
## 184 FALSE
## 185 FALSE
## 186 FALSE
## 187 FALSE
## 188 FALSE
## 189 FALSE
## 190 FALSE
## 191 FALSE
## 192 FALSE
## 193 FALSE
## 194 FALSE
## 195 FALSE
## 196 FALSE
## 197 FALSE
## 198 FALSE
## 199 FALSE
## 200 FALSE
## 201 FALSE
## 202 FALSE
## 203 FALSE
## 204 FALSE
## 205 FALSE
## 206 FALSE
## 207 FALSE
## 208 FALSE
## 209 FALSE
## 210 FALSE
## 211 FALSE
## 212 FALSE
## 213 FALSE
## 214 FALSE
## 215 FALSE
## 216 FALSE
## 217 FALSE
## 218 FALSE
## 219 FALSE
## 220 FALSE
## 221 FALSE</code></pre>
<pre class="r"><code>library(tidyverse)</code></pre>
<p><strong>Crime category by race/ethnicity, age, sex and other sociodemographics</strong> ** top ten offense, general chracteristics<strong> </strong> top 5, general characteristics<strong> </strong>filter out unknown and analyze top 5 crimes for unknowns**</p>
<p>Removing missing variables</p>
<pre class="r"><code>com_crime_nyc = crime_nyc %&gt;% 
  janitor::clean_names(dat = .) %&gt;% 
  filter(!is.na(susp_sex)) %&gt;%
  filter(!is.na(susp_age_group)) %&gt;%
  filter(!is.na(vic_sex)) %&gt;%
  filter(!is.na(vic_age_group)) %&gt;%
  filter(!is.na(vic_race)) %&gt;%
  filter(!is.na(susp_race))</code></pre>
<p>Highest number of crimes (top 5)</p>
<pre class="r"><code>com_crime_nyc %&gt;%
  distinct(pd_desc) %&gt;%
  count()</code></pre>
<pre><code>## # A tibble: 1 x 1
##       n
##   &lt;int&gt;
## 1   213</code></pre>
<pre class="r"><code>com_crime_nyc %&gt;%
  filter(law_cat_cd == &quot;felony&quot;) %&gt;% 
  group_by(pd_desc, pd_cd) %&gt;%
  summarise(number = n()) %&gt;%
  ungroup() %&gt;%
  top_n(10, number) %&gt;%
  arrange(desc(number)) %&gt;%
  knitr::kable() </code></pre>
<table>
<thead>
<tr class="header">
<th align="left">pd_desc</th>
<th align="left">pd_cd</th>
<th align="right">number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">assault 2,1,unclassified</td>
<td align="left">109</td>
<td align="right">44270</td>
</tr>
<tr class="even">
<td align="left">criminal contempt 1</td>
<td align="left">198</td>
<td align="right">25455</td>
</tr>
<tr class="odd">
<td align="left">robbery,personal electronic device</td>
<td align="left">386</td>
<td align="right">10930</td>
</tr>
<tr class="even">
<td align="left">robbery,open area unclassified</td>
<td align="left">397</td>
<td align="right">8998</td>
</tr>
<tr class="odd">
<td align="left">mischief,criminal, uncl 2nd</td>
<td align="left">269</td>
<td align="right">8675</td>
</tr>
<tr class="even">
<td align="left">strangulation 1st</td>
<td align="left">105</td>
<td align="right">8159</td>
</tr>
<tr class="odd">
<td align="left">forgery,etc.,unclassified-felo</td>
<td align="left">729</td>
<td align="right">8115</td>
</tr>
<tr class="even">
<td align="left">weapons possession 3</td>
<td align="left">793</td>
<td align="right">6217</td>
</tr>
<tr class="odd">
<td align="left">burglary,residence,day</td>
<td align="left">221</td>
<td align="right">5381</td>
</tr>
<tr class="even">
<td align="left">mischief, criminal 3 &amp; 2, of m</td>
<td align="left">267</td>
<td align="right">5333</td>
</tr>
</tbody>
</table>
<p>Suspect Age</p>
<pre class="r"><code>com_crime_nyc %&gt;%
  group_by(susp_age_group) %&gt;%
  summarise(number = n()) %&gt;%
  ungroup() %&gt;%
  top_n(5, number) %&gt;%
  arrange(desc(number)) %&gt;%
  knitr::kable() </code></pre>
<table>
<thead>
<tr class="header">
<th align="left">susp_age_group</th>
<th align="right">number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">unknown</td>
<td align="right">90145</td>
</tr>
<tr class="even">
<td align="left">25-44</td>
<td align="right">88550</td>
</tr>
<tr class="odd">
<td align="left">18-24</td>
<td align="right">41309</td>
</tr>
<tr class="even">
<td align="left">45-64</td>
<td align="right">27591</td>
</tr>
<tr class="odd">
<td align="left">&lt;18</td>
<td align="right">11531</td>
</tr>
</tbody>
</table>
<p>Suspect Sex</p>
<pre class="r"><code>com_crime_nyc %&gt;%
  group_by(susp_sex) %&gt;%
  summarise(number = n()) %&gt;%
  ungroup() %&gt;%
  top_n(3, number) %&gt;%
  arrange(desc(number)) %&gt;%
  knitr::kable() </code></pre>
<table>
<thead>
<tr class="header">
<th align="left">susp_sex</th>
<th align="right">number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">m</td>
<td align="right">171270</td>
</tr>
<tr class="even">
<td align="left">u</td>
<td align="right">56662</td>
</tr>
<tr class="odd">
<td align="left">f</td>
<td align="right">32782</td>
</tr>
</tbody>
</table>
<p>Victim’s sex</p>
<pre class="r"><code>com_crime_nyc %&gt;%
  group_by(vic_sex) %&gt;%
  summarise(number = n()) %&gt;%
  ungroup() %&gt;%
  top_n(3, number) %&gt;%
  arrange(desc(number)) %&gt;%
  knitr::kable() </code></pre>
<table>
<thead>
<tr class="header">
<th align="left">vic_sex</th>
<th align="right">number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">f</td>
<td align="right">104643</td>
</tr>
<tr class="even">
<td align="left">m</td>
<td align="right">99208</td>
</tr>
<tr class="odd">
<td align="left">e</td>
<td align="right">32145</td>
</tr>
</tbody>
</table>
<p>Victim’s age</p>
<pre class="r"><code>com_crime_nyc %&gt;%
  group_by(vic_age_group) %&gt;%
  summarise(number = n()) %&gt;%
  ungroup() %&gt;%
  top_n(5, number) %&gt;%
  arrange(desc(number)) %&gt;%
  knitr::kable() </code></pre>
<table>
<thead>
<tr class="header">
<th align="left">vic_age_group</th>
<th align="right">number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">25-44</td>
<td align="right">94015</td>
</tr>
<tr class="even">
<td align="left">unknown</td>
<td align="right">62936</td>
</tr>
<tr class="odd">
<td align="left">45-64</td>
<td align="right">44114</td>
</tr>
<tr class="even">
<td align="left">18-24</td>
<td align="right">32805</td>
</tr>
<tr class="odd">
<td align="left">&lt;18</td>
<td align="right">14706</td>
</tr>
</tbody>
</table>
<p>Suspect’s age</p>
<pre class="r"><code>com_crime_nyc %&gt;%
  group_by(susp_race) %&gt;%
  summarise(number = n()) %&gt;%
  ungroup() %&gt;%
  top_n(5, number) %&gt;%
  arrange(desc(number)) %&gt;%
  knitr::kable() </code></pre>
<table>
<thead>
<tr class="header">
<th align="left">susp_race</th>
<th align="right">number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">black</td>
<td align="right">106066</td>
</tr>
<tr class="even">
<td align="left">unknown</td>
<td align="right">66282</td>
</tr>
<tr class="odd">
<td align="left">white hispanic</td>
<td align="right">43845</td>
</tr>
<tr class="even">
<td align="left">white</td>
<td align="right">21080</td>
</tr>
<tr class="odd">
<td align="left">black hispanic</td>
<td align="right">14385</td>
</tr>
</tbody>
</table>
<p>Victim’s race</p>
<pre class="r"><code>com_crime_nyc %&gt;%
  group_by(vic_race) %&gt;%
  summarise(number = n()) %&gt;%
  ungroup() %&gt;%
  top_n(5, number) %&gt;%
  arrange(desc(number)) %&gt;%
  knitr::kable()</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">vic_race</th>
<th align="right">number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">black</td>
<td align="right">72052</td>
</tr>
<tr class="even">
<td align="left">unknown</td>
<td align="right">68123</td>
</tr>
<tr class="odd">
<td align="left">white hispanic</td>
<td align="right">49005</td>
</tr>
<tr class="even">
<td align="left">white</td>
<td align="right">40332</td>
</tr>
<tr class="odd">
<td align="left">asian / pacific islander</td>
<td align="right">19303</td>
</tr>
</tbody>
</table>
<p>Suspect’s race</p>
<pre class="r"><code>com_crime_nyc %&gt;%
  group_by(pd_desc, susp_race) %&gt;%
  summarise(number = n()) %&gt;%
  ungroup() %&gt;%
  top_n(5, number) %&gt;%
  arrange(desc(number)) %&gt;%
  knitr::kable()</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">pd_desc</th>
<th align="left">susp_race</th>
<th align="right">number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">assault 2,1,unclassified</td>
<td align="left">black</td>
<td align="right">19349</td>
</tr>
<tr class="even">
<td align="left">criminal contempt 1</td>
<td align="left">black</td>
<td align="right">12186</td>
</tr>
<tr class="odd">
<td align="left">assault 2,1,unclassified</td>
<td align="left">white hispanic</td>
<td align="right">9213</td>
</tr>
<tr class="even">
<td align="left">assault 2,1,unclassified</td>
<td align="left">unknown</td>
<td align="right">7201</td>
</tr>
<tr class="odd">
<td align="left">robbery,personal electronic device</td>
<td align="left">black</td>
<td align="right">6029</td>
</tr>
</tbody>
</table>
<pre class="r"><code>com_crime_nyc %&gt;%
  group_by(susp_race, vic_race) %&gt;%
  summarise(number = n()) %&gt;%
  ungroup() %&gt;%
  top_n(5, number) %&gt;%
  arrange(desc(number)) %&gt;%
  knitr::kable()</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">susp_race</th>
<th align="left">vic_race</th>
<th align="right">number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">black</td>
<td align="left">black</td>
<td align="right">48186</td>
</tr>
<tr class="even">
<td align="left">black</td>
<td align="left">unknown</td>
<td align="right">30387</td>
</tr>
<tr class="odd">
<td align="left">white hispanic</td>
<td align="left">white hispanic</td>
<td align="right">19906</td>
</tr>
<tr class="even">
<td align="left">unknown</td>
<td align="left">black</td>
<td align="right">16444</td>
</tr>
<tr class="odd">
<td align="left">unknown</td>
<td align="left">white</td>
<td align="right">14946</td>
</tr>
</tbody>
</table>
<pre class="r"><code>com_crime_nyc %&gt;%
  group_by(susp_race, pd_desc) %&gt;%
  summarise(number = n()) %&gt;%
  ungroup() %&gt;%
  top_n(5, number) %&gt;%
  arrange(desc(number)) %&gt;%
  knitr::kable()</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">susp_race</th>
<th align="left">pd_desc</th>
<th align="right">number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">black</td>
<td align="left">assault 2,1,unclassified</td>
<td align="right">19349</td>
</tr>
<tr class="even">
<td align="left">black</td>
<td align="left">criminal contempt 1</td>
<td align="right">12186</td>
</tr>
<tr class="odd">
<td align="left">white hispanic</td>
<td align="left">assault 2,1,unclassified</td>
<td align="right">9213</td>
</tr>
<tr class="even">
<td align="left">unknown</td>
<td align="left">assault 2,1,unclassified</td>
<td align="right">7201</td>
</tr>
<tr class="odd">
<td align="left">black</td>
<td align="left">robbery,personal electronic device</td>
<td align="right">6029</td>
</tr>
</tbody>
</table>
<pre class="r"><code>com_crime_nyc %&gt;%
  group_by(pd_desc, susp_age_group) %&gt;%
  summarise(number = n()) %&gt;%
  ungroup() %&gt;%
  top_n(5, number) %&gt;%
  arrange(desc(number)) %&gt;%
  knitr::kable() </code></pre>
<table>
<thead>
<tr class="header">
<th align="left">pd_desc</th>
<th align="left">susp_age_group</th>
<th align="right">number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">assault 2,1,unclassified</td>
<td align="left">25-44</td>
<td align="right">17072</td>
</tr>
<tr class="even">
<td align="left">criminal contempt 1</td>
<td align="left">25-44</td>
<td align="right">14486</td>
</tr>
<tr class="odd">
<td align="left">assault 2,1,unclassified</td>
<td align="left">unknown</td>
<td align="right">11356</td>
</tr>
<tr class="even">
<td align="left">assault 2,1,unclassified</td>
<td align="left">18-24</td>
<td align="right">6801</td>
</tr>
<tr class="odd">
<td align="left">assault 2,1,unclassified</td>
<td align="left">45-64</td>
<td align="right">6350</td>
</tr>
</tbody>
</table>
<p><strong>filter out unknown and analyze top 5 crimes for unknowns</strong></p>
<pre class="r"><code>filter(com_crime_nyc, susp_age_group == &#39;unknown&#39;) %&gt;%
  group_by(pd_cd) %&gt;%
  summarise(n = n()) %&gt;%
  filter() %&gt;%
  knitr::kable() </code></pre>
<table>
<thead>
<tr class="header">
<th align="left">pd_cd</th>
<th align="right">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">103</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">104</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">105</td>
<td align="right">311</td>
</tr>
<tr class="even">
<td align="left">106</td>
<td align="right">119</td>
</tr>
<tr class="odd">
<td align="left">107</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">108</td>
<td align="right">20</td>
</tr>
<tr class="odd">
<td align="left">109</td>
<td align="right">11356</td>
</tr>
<tr class="even">
<td align="left">110</td>
<td align="right">21</td>
</tr>
<tr class="odd">
<td align="left">112</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="left">117</td>
<td align="right">1991</td>
</tr>
<tr class="odd">
<td align="left">125</td>
<td align="right">16</td>
</tr>
<tr class="even">
<td align="left">153</td>
<td align="right">80</td>
</tr>
<tr class="odd">
<td align="left">155</td>
<td align="right">27</td>
</tr>
<tr class="even">
<td align="left">157</td>
<td align="right">519</td>
</tr>
<tr class="odd">
<td align="left">159</td>
<td align="right">119</td>
</tr>
<tr class="even">
<td align="left">164</td>
<td align="right">26</td>
</tr>
<tr class="odd">
<td align="left">166</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">168</td>
<td align="right">219</td>
</tr>
<tr class="odd">
<td align="left">177</td>
<td align="right">173</td>
</tr>
<tr class="even">
<td align="left">178</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">179</td>
<td align="right">25</td>
</tr>
<tr class="even">
<td align="left">183</td>
<td align="right">13</td>
</tr>
<tr class="odd">
<td align="left">185</td>
<td align="right">18</td>
</tr>
<tr class="even">
<td align="left">186</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left">187</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">193</td>
<td align="right">7</td>
</tr>
<tr class="odd">
<td align="left">197</td>
<td align="right">50</td>
</tr>
<tr class="even">
<td align="left">198</td>
<td align="right">620</td>
</tr>
<tr class="odd">
<td align="left">199</td>
<td align="right">15</td>
</tr>
<tr class="even">
<td align="left">204</td>
<td align="right">53</td>
</tr>
<tr class="odd">
<td align="left">211</td>
<td align="right">760</td>
</tr>
<tr class="even">
<td align="left">213</td>
<td align="right">2123</td>
</tr>
<tr class="odd">
<td align="left">214</td>
<td align="right">264</td>
</tr>
<tr class="even">
<td align="left">221</td>
<td align="right">3193</td>
</tr>
<tr class="odd">
<td align="left">223</td>
<td align="right">2515</td>
</tr>
<tr class="even">
<td align="left">224</td>
<td align="right">909</td>
</tr>
<tr class="odd">
<td align="left">231</td>
<td align="right">483</td>
</tr>
<tr class="even">
<td align="left">233</td>
<td align="right">330</td>
</tr>
<tr class="odd">
<td align="left">234</td>
<td align="right">56</td>
</tr>
<tr class="even">
<td align="left">241</td>
<td align="right">78</td>
</tr>
<tr class="odd">
<td align="left">243</td>
<td align="right">199</td>
</tr>
<tr class="even">
<td align="left">244</td>
<td align="right">61</td>
</tr>
<tr class="odd">
<td align="left">261</td>
<td align="right">6</td>
</tr>
<tr class="even">
<td align="left">263</td>
<td align="right">254</td>
</tr>
<tr class="odd">
<td align="left">264</td>
<td align="right">95</td>
</tr>
<tr class="even">
<td align="left">265</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">266</td>
<td align="right">20</td>
</tr>
<tr class="even">
<td align="left">267</td>
<td align="right">2877</td>
</tr>
<tr class="odd">
<td align="left">268</td>
<td align="right">83</td>
</tr>
<tr class="even">
<td align="left">269</td>
<td align="right">2016</td>
</tr>
<tr class="odd">
<td align="left">273</td>
<td align="right">13</td>
</tr>
<tr class="even">
<td align="left">285</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">293</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">360</td>
<td align="right">70</td>
</tr>
<tr class="odd">
<td align="left">361</td>
<td align="right">197</td>
</tr>
<tr class="even">
<td align="left">363</td>
<td align="right">58</td>
</tr>
<tr class="odd">
<td align="left">365</td>
<td align="right">16</td>
</tr>
<tr class="even">
<td align="left">366</td>
<td align="right">188</td>
</tr>
<tr class="odd">
<td align="left">367</td>
<td align="right">178</td>
</tr>
<tr class="even">
<td align="left">371</td>
<td align="right">13</td>
</tr>
<tr class="odd">
<td align="left">373</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">375</td>
<td align="right">44</td>
</tr>
<tr class="odd">
<td align="left">377</td>
<td align="right">294</td>
</tr>
<tr class="even">
<td align="left">379</td>
<td align="right">65</td>
</tr>
<tr class="odd">
<td align="left">380</td>
<td align="right">142</td>
</tr>
<tr class="even">
<td align="left">381</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">382</td>
<td align="right">532</td>
</tr>
<tr class="even">
<td align="left">383</td>
<td align="right">331</td>
</tr>
<tr class="odd">
<td align="left">384</td>
<td align="right">883</td>
</tr>
<tr class="even">
<td align="left">385</td>
<td align="right">41</td>
</tr>
<tr class="odd">
<td align="left">386</td>
<td align="right">4451</td>
</tr>
<tr class="even">
<td align="left">387</td>
<td align="right">150</td>
</tr>
<tr class="odd">
<td align="left">388</td>
<td align="right">1020</td>
</tr>
<tr class="even">
<td align="left">389</td>
<td align="right">314</td>
</tr>
<tr class="odd">
<td align="left">390</td>
<td align="right">587</td>
</tr>
<tr class="even">
<td align="left">391</td>
<td align="right">151</td>
</tr>
<tr class="odd">
<td align="left">392</td>
<td align="right">56</td>
</tr>
<tr class="even">
<td align="left">393</td>
<td align="right">7</td>
</tr>
<tr class="odd">
<td align="left">394</td>
<td align="right">190</td>
</tr>
<tr class="even">
<td align="left">395</td>
<td align="right">13</td>
</tr>
<tr class="odd">
<td align="left">396</td>
<td align="right">481</td>
</tr>
<tr class="even">
<td align="left">397</td>
<td align="right">4019</td>
</tr>
<tr class="odd">
<td align="left">398</td>
<td align="right">319</td>
</tr>
<tr class="even">
<td align="left">399</td>
<td align="right">552</td>
</tr>
<tr class="odd">
<td align="left">401</td>
<td align="right">362</td>
</tr>
<tr class="even">
<td align="left">402</td>
<td align="right">1568</td>
</tr>
<tr class="odd">
<td align="left">403</td>
<td align="right">1154</td>
</tr>
<tr class="even">
<td align="left">404</td>
<td align="right">1505</td>
</tr>
<tr class="odd">
<td align="left">405</td>
<td align="right">1266</td>
</tr>
<tr class="even">
<td align="left">406</td>
<td align="right">1041</td>
</tr>
<tr class="odd">
<td align="left">407</td>
<td align="right">321</td>
</tr>
<tr class="even">
<td align="left">408</td>
<td align="right">604</td>
</tr>
<tr class="odd">
<td align="left">409</td>
<td align="right">662</td>
</tr>
<tr class="even">
<td align="left">410</td>
<td align="right">968</td>
</tr>
<tr class="odd">
<td align="left">411</td>
<td align="right">923</td>
</tr>
<tr class="even">
<td align="left">412</td>
<td align="right">1963</td>
</tr>
<tr class="odd">
<td align="left">414</td>
<td align="right">177</td>
</tr>
<tr class="even">
<td align="left">415</td>
<td align="right">1158</td>
</tr>
<tr class="odd">
<td align="left">416</td>
<td align="right">658</td>
</tr>
<tr class="even">
<td align="left">417</td>
<td align="right">641</td>
</tr>
<tr class="odd">
<td align="left">418</td>
<td align="right">733</td>
</tr>
<tr class="even">
<td align="left">419</td>
<td align="right">637</td>
</tr>
<tr class="odd">
<td align="left">420</td>
<td align="right">629</td>
</tr>
<tr class="even">
<td align="left">421</td>
<td align="right">3796</td>
</tr>
<tr class="odd">
<td align="left">422</td>
<td align="right">1069</td>
</tr>
<tr class="even">
<td align="left">423</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">424</td>
<td align="right">1051</td>
</tr>
<tr class="even">
<td align="left">425</td>
<td align="right">1102</td>
</tr>
<tr class="odd">
<td align="left">426</td>
<td align="right">151</td>
</tr>
<tr class="even">
<td align="left">428</td>
<td align="right">145</td>
</tr>
<tr class="odd">
<td align="left">430</td>
<td align="right">574</td>
</tr>
<tr class="even">
<td align="left">431</td>
<td align="right">33</td>
</tr>
<tr class="odd">
<td align="left">432</td>
<td align="right">254</td>
</tr>
<tr class="even">
<td align="left">433</td>
<td align="right">1707</td>
</tr>
<tr class="odd">
<td align="left">434</td>
<td align="right">37</td>
</tr>
<tr class="even">
<td align="left">435</td>
<td align="right">41</td>
</tr>
<tr class="odd">
<td align="left">437</td>
<td align="right">499</td>
</tr>
<tr class="even">
<td align="left">438</td>
<td align="right">2595</td>
</tr>
<tr class="odd">
<td align="left">439</td>
<td align="right">1917</td>
</tr>
<tr class="even">
<td align="left">441</td>
<td align="right">3503</td>
</tr>
<tr class="odd">
<td align="left">442</td>
<td align="right">14</td>
</tr>
<tr class="even">
<td align="left">443</td>
<td align="right">750</td>
</tr>
<tr class="odd">
<td align="left">445</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">450</td>
<td align="right">52</td>
</tr>
<tr class="odd">
<td align="left">451</td>
<td align="right">740</td>
</tr>
<tr class="even">
<td align="left">455</td>
<td align="right">30</td>
</tr>
<tr class="odd">
<td align="left">457</td>
<td align="right">695</td>
</tr>
<tr class="even">
<td align="left">461</td>
<td align="right">232</td>
</tr>
<tr class="odd">
<td align="left">489</td>
<td align="right">111</td>
</tr>
<tr class="even">
<td align="left">493</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">494</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">498</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">500</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">503</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">512</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">515</td>
<td align="right">7</td>
</tr>
<tr class="odd">
<td align="left">519</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">520</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">521</td>
<td align="right">11</td>
</tr>
<tr class="even">
<td align="left">557</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">568</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">586</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">588</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">594</td>
<td align="right">7</td>
</tr>
<tr class="odd">
<td align="left">596</td>
<td align="right">78</td>
</tr>
<tr class="even">
<td align="left">640</td>
<td align="right">140</td>
</tr>
<tr class="odd">
<td align="left">644</td>
<td align="right">40</td>
</tr>
<tr class="even">
<td align="left">663</td>
<td align="right">9</td>
</tr>
<tr class="odd">
<td align="left">664</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">665</td>
<td align="right">88</td>
</tr>
<tr class="odd">
<td align="left">674</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">694</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">696</td>
<td align="right">8</td>
</tr>
<tr class="even">
<td align="left">697</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">698</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">708</td>
<td align="right">116</td>
</tr>
<tr class="odd">
<td align="left">711</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">723</td>
<td align="right">5</td>
</tr>
<tr class="odd">
<td align="left">724</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">725</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">727</td>
<td align="right">8</td>
</tr>
<tr class="even">
<td align="left">729</td>
<td align="right">608</td>
</tr>
<tr class="odd">
<td align="left">739</td>
<td align="right">3128</td>
</tr>
<tr class="even">
<td align="left">760</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">772</td>
<td align="right">41</td>
</tr>
<tr class="even">
<td align="left">779</td>
<td align="right">14</td>
</tr>
<tr class="odd">
<td align="left">781</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">792</td>
<td align="right">42</td>
</tr>
<tr class="odd">
<td align="left">793</td>
<td align="right">42</td>
</tr>
<tr class="even">
<td align="left">844</td>
<td align="right">21</td>
</tr>
<tr class="odd">
<td align="left">847</td>
<td align="right">64</td>
</tr>
<tr class="even">
<td align="left">NA</td>
<td align="right">5</td>
</tr>
</tbody>
</table>
<p>select top 10 crimes into a new dataset</p>
<pre class="r"><code>top_ten_crime = com_crime_nyc %&gt;%
  group_by(pd_desc, pd_cd) %&gt;%
  summarise(number = n()) %&gt;%
  ungroup() %&gt;%
  top_n(10, number) 
 # arrange(desc(number)) %&gt;%</code></pre>
<pre class="r"><code>mydataextract3 = list()
cc = top_ten_crime$pd_cd
for(j in 1:length(cc)){
  ind = cc[j]
#mydataextract =  com_crime_nyc[com_crime_nyc$pd_desc == cc, ]
mydataextract3[[j]] = com_crime_nyc[which(com_crime_nyc$pd_cd == ind, arr.ind = TRUE ), ]
mydataextract4 = do.call(rbind, mydataextract3)
} # has 397,023 obs</code></pre>
<p>consider suspects demographics by the top ten crimes suspect age group</p>
<pre class="r"><code> table(mydataextract4$susp_age_group)</code></pre>
<pre><code>## 
##      -2     -67     &lt;18    1014    1016   18-24    2016    2017   25-44 
##       1       1    6491       1       1   23252       2       2   53784 
##   45-64     65+     926     940     945 unknown 
##   17419    1083       1       1       1   29493</code></pre>
<pre class="r"><code>sort(table(mydataextract4$susp_age_group))</code></pre>
<pre><code>## 
##      -2     -67    1014    1016     926     940     945    2016    2017 
##       1       1       1       1       1       1       1       2       2 
##     65+     &lt;18   45-64   18-24 unknown   25-44 
##    1083    6491   17419   23252   29493   53784</code></pre>
<pre class="r"><code>#keep age groups &lt; 18, 18-24, 25-44, 45-64, 65+, unknown
agegroup=c(&#39;&lt;18&#39;, &#39;45-64&#39;,   &#39;18-24&#39;, &#39;unknown&#39;,   &#39;25-44&#39;, &#39;65+&#39; )
mydata=mydataextract4[mydataextract4$susp_age_group %in% agegroup,]
suspect_agetopten=table(mydata$pd_desc,mydata$susp_age_group)</code></pre>
<pre class="r"><code>suspect_agetopten2=as.data.frame(suspect_agetopten)
mycolnames=c(&#39;Crime&#39;, &#39;Agegroup&#39;, &#39;Freq&#39;)
colnames(suspect_agetopten2)=mycolnames
suspect_agetopten2 %&gt;%
group_by(Agegroup, Crime) %&gt;%
  ggplot(aes(x = Crime, y = Freq, color = Agegroup)) +
   geom_point() +
#   geom_smooth(se=FALSE) +
labs(
  title = &quot;Graph of crime frequency by age group&quot;,
  x = &quot;Crime &quot;,
  y = &quot;Freq&quot;
) +
  theme(axis.text.x = element_text(angle = 45, size = 7, hjust = 1))</code></pre>
<p><img src="Final_project_files/figure-html/final_project_yaa-1.png" width="672" /></p>
<p>consider suspects demographics by the top ten crimes. suspect race</p>
<pre class="r"><code> table(mydataextract4$susp_race)</code></pre>
<pre><code>## 
## american indian/alaskan native       asian / pacific islander 
##                            339                           5436 
##                          black                 black hispanic 
##                          61228                           8165 
##                        unknown                          white 
##                          19207                          11434 
##                 white hispanic 
##                          25724</code></pre>
<pre class="r"><code>sort(table(mydataextract4$susp_race))</code></pre>
<pre><code>## 
## american indian/alaskan native       asian / pacific islander 
##                            339                           5436 
##                 black hispanic                          white 
##                           8165                          11434 
##                        unknown                 white hispanic 
##                          19207                          25724 
##                          black 
##                          61228</code></pre>
<pre class="r"><code>#keep age groups &lt; 18, 18-24, 25-44, 45-64, 65+, unknown
suspect_racetopten=table(mydata$pd_desc,mydata$susp_race)</code></pre>
<pre class="r"><code>suspect_racetopten2=as.data.frame(suspect_racetopten)
mycolnames=c(&#39;Crime&#39;, &#39;Race&#39;, &#39;Freq&#39;)
colnames(suspect_racetopten2)=mycolnames
suspect_racetopten2 %&gt;%
group_by(Race, Crime) %&gt;%
  ggplot(aes(x = Crime, y = Freq, color = Race)) +
   geom_point() +
#   geom_smooth(se=FALSE) +
labs(
  title = &quot;Graph of crime frequency by race&quot;,
  x = &quot;Crime &quot;,
  y = &quot;Freq&quot;
) +
  theme(axis.text.x = element_text(angle = 45, size = 7, hjust = 1))</code></pre>
<p><img src="Final_project_files/figure-html/final_project_sustable-1.png" width="672" /></p>
<p>sex</p>
<pre class="r"><code>table(mydataextract4$susp_sex)</code></pre>
<pre><code>## 
##     f     m     u 
## 20936 95522 15075</code></pre>
<pre class="r"><code>sort(table(mydataextract4$susp_sex))</code></pre>
<pre><code>## 
##     u     f     m 
## 15075 20936 95522</code></pre>
<pre class="r"><code>#keep age groups &lt; 18, 18-24, 25-44, 45-64, 65+, unknown
suspect_sextopten=table(mydata$pd_desc,mydata$susp_sex)
suspect_sextopten</code></pre>
<pre><code>##                                     
##                                          f     m     u
##   assault 2,1,unclassified           11512 27308  5444
##   burglary,residence,day               259  2615  2507
##   criminal contempt 1                 4505 20737   210
##   forgery,etc.,unclassified-felo       661  7013   441
##   mischief, criminal 3 &amp; 2, of m       576  2337  2420
##   mischief,criminal,    uncl 2nd      1477  6070  1128
##   robbery,open area unclassified       444  7191  1362
##   robbery,personal electronic device   651  8840  1439
##   strangulation 1st                    601  7461    96
##   weapons possession 3                 249  5942    26</code></pre>
<pre class="r"><code>suspect_sextopten2=as.data.frame(suspect_sextopten)
mycolnames=c(&#39;Crime&#39;, &#39;Sex&#39;, &#39;Freq&#39;)
colnames(suspect_sextopten2)=mycolnames
suspect_sextopten2 %&gt;%
group_by(Sex, Crime) %&gt;%
  ggplot(aes(x = Crime, y = Freq, color = Sex)) +
   geom_point() +
#   geom_smooth(se=FALSE) +
labs(
  title = &quot;Graph of crime frequency by sex&quot;,
  x = &quot;Crime &quot;,
  y = &quot;Freq&quot;
) +
  theme(axis.text.x = element_text(angle = 45, size = 7, hjust = 1))</code></pre>
<p><img src="Final_project_files/figure-html/final_project_graphs-1.png" width="672" /></p>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
